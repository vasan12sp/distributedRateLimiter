# Application
spring.application.name=rateLimiter

# PostgreSQL Database configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/your_database_name
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=your_db_username
spring.datasource.password=your_db_password

spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# Redis configuration
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=your_redis_password_if_any
spring.data.redis.timeout=2000
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# Thymeleaf configuration
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# Server
server.port=8080

# Actuator/Metrics
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when_authorized
management.prometheus.metrics.export.enabled=true
management.metrics.tags.application=${spring.application.name}

# Rate Limiter custom configuration
ratelimiter.cors.allowed-origins=*
ratelimiter.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
ratelimiter.cors.max-age=3600
ratelimiter.fail-open=true
ratelimiter.default-rule.max-requests=100
ratelimiter.default-rule.window-size-seconds=60

# Logging
logging.level.root=INFO
logging.level.com.vasan12sp.ratelimiter=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.data.redis=DEBUG

# Security
# Session Cookie Security
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.same-site=lax
server.servlet.session.timeout=30m

# CSRF Token
spring.security.csrf.cookie.http-only=false
spring.security.csrf.cookie.secure=false

# Admin Secret Key (CHANGE THIS!)
admin.secret.key=CHANGE-THIS-TO-A-STRONG-SECRET-KEY-IN-PRODUCTION
